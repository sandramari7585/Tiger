const schedule = require('node-schedule');
const moment = require('moment-timezone');
const chalk = require('chalk');

module.exports.config = {
    name: 'autosent',
    version: '10.0.0',
    hasPermssion: 0,
    credits: 'ðð«ð¢ð§ðœðž ðƒð¢ð¥ð¬ð¡ðšð',
    description: 'Set Karne Ke Bad Automatically Msg Send Karega',
    commandCategory: 'group messenger',
    usages: '[]',
    cooldowns: 3
};

const messages = [
    { time: '12:00 AM', message: 'â”€â”€â”€â”€ â€¢â™¥ï¸â€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 12:00 ð—”ðŒ â³ ð†ð¨ ð­ð¨ ð¬ð¥ðžðžð©, ð ð¨ð¨ðð§ð¢ð ð¡ð­ ðŸ¥€ â”€â”€â”€â”€ â€¢â™¥ï¸â€¢ â”€â”€â”€â”€' },
    { time: '1:00 AM', message: 'â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 1:00 AðŒ â³ ð˜ð¨ð® ð«ðž ð¬ð­ð¢ð¥ð¥ ð‹ðšð§ðð¢ ð¥ðšð§ðð¢ ðŸ˜ ð ð¨ ð­ð¨ ð¬ð¥ðžðžð© ðŸ¥±ðŸ˜˜ â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€' },
    { time: '2:00 AM', message: 'â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 2:00 AðŒ â³ ð˜ð¨ð® ð¡ðšð¯ðž ð§ð¨ð­ ð¬ð¥ðžð©ð­ ð²ðžð­ ðŸ˜³ â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€' },
    { time: '3:00 AM', message: 'â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 3:00 AðŒ â³ ð€ðœðœð¡ðš ð¡ð¨ð ðš ððžðžð§ð ð€ðšð£ðšð²ðžðŸŒƒ â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€' },
    { time: '4:00 AM', message: 'â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 4:00 AðŒ â³ ððžðžð§ð ð€ðšð£ðšð²ðž ðŸŒƒ â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€' },
    { time: '5:00 AM', message: 'â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 5:00 ð—”ðŒ â³ ð€ðšð¥ð¬ð¢ðŸ˜¹ â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€' },
    { time: '6:00 AM', message: 'â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 6:00 AðŒ â³ ð€ð¬ð¬ðšð¥ðšð¦ð® ð€ð¥ðšð¢ð¤ð®ð¦ â¤ï¸ðŸ¥€ ðŸ’– â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€' },
    { time: '7:00 AM', message: 'â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 7:00 AðŒ â³ ð€ð°ðšð¤ðž ð®ð© ð§ð¨ð°ðŸ¥° â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€' },
    { time: '8:00 AM', message: 'â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 8:00 AðŒ â³ ð”ð­ð¡ ð†ð²ðž ðð«ðžð¬ð¢ððžð§ð­ ð£ðˆ ð€ðšð©?ðŸ˜µ â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€' },
    { time: '9:00 AM', message: 'â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 9:00 AðŒ â³ðð¨ð° ð¡ðšð¯ðž ð²ð¨ð®ð« ð›ð«ðžðšð¤ðŸðšð¬ð­, ððšð›ð²ðŸ™ˆ â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€' },
    { time: '10:00 AM', message: 'â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 10:00 AðŒ â³ ðµð’¶ð’·ð“Ž ð’¶ð“‡ð‘’ ð’·ð“Šð“ˆð“Ž ð’¾ð“ƒ ð“‰ð’½ð‘’ ð’¾ð“ƒð’·ð‘œð“.ðŸ™€ â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€' },
    { time: '11:00 PM', message: 'â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 11:00 AðŒ â³ Ê€á´‡á´á´‡á´Ê™á´‡Ê€ á´á´‡ á´›á´á´ðŸ˜» â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€' },
    { time: '12:00 PM', message: 'â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 12:00 ððŒ â³ ð†ð¨ð¨ð ð€ðŸð­ðžð«ðð¨ð¨ð§ ð„ð¯ðžð«ð²ð¨ð§ðžðŸŒž ð‡ð¨ð° ðšð«ðž ð²ð¨ð® ð„ð¯ðžð«ð²ð¨ð§ðž â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€' },
    { time: '1:00 PM', message: 'â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 1:00 ððŒ â³ ð†ð¨ ð­ð¨ ð¡ðšð¯ðž ð¥ð®ð§ðœð¡ðŸ˜‡ â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€' },
    { time: '2:00 PM', message: 'â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 2:00 ððŒ â³ ð’ðšð² ð¢ð­ ð©ð«ð¢ð§ðœðž ðƒð¢ð¥ð¬ð¡ðšð ð¦ð² ð£ðšðšðšð§ ðŸ’–ðŸ˜‡ â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€' },
    { time: '3:00 PM', message: 'â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 3:00 ððŒ â³ Now get some restðŸ˜˜ â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€' },
    { time: '4:00 PM', message: 'â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 4:00 ððŒ â³ It is very cold here now. â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€' },
    { time: '5:00 PM', message: 'â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 5:00 ððŒ â³ ð€ð¥ð°ðšð²ð¬ ð›ðž ð¡ðšð©ð©ð² ð¢ð§ ðšð§ð² ð¬ð¢ð­ð®ðšð­ð¢ð¨ð§ ðŸ˜‡ â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€' },
    { time: '6:00 PM', message: 'â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 6:00 ððŒ â³ ððšð›ð² ðˆ ð¦ð¢ð¬ð¬ ð²ð¨ð® ðŸ’– â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€' },
    { time: '7:00 PM', message: 'â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 7:00 ððŒ â³ ð€ð¬ð¬ðšð¥ðšð¦ð®ðšð¥ðšð¢ð¤ð®ð¦ ðŸ’ž â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€' },
    { time: '8:00 PM', message: 'â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 8:00 ððŒ â³ â˜…å½¡[Êœá´€á´ á´‡ Êá´á´œ Êœá´€á´… á´…ÉªÉ´É´á´‡Ê€]å½¡â˜…ðŸ˜‹ â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€' },
    { time: '9:00 PM', message: 'â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 9:00 ððŒ â³ ðŒðžð«ðž ð‚ð®ð­ðž ððšð›ð² ðŸ’ž â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€' },
    { time: '10:00 PM', message: 'â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 10:00 ððŒ â³ ð€ð¥ð°ðšð²ð¬ ð›ðž ð¡ðšð©ð©ð² ðšð§ð ð¬ð¦ð¢ð¥ðž â˜ºï¸ â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€' },
    { time: '11:00 PM', message: 'â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 11:00 ððŒ â³ ðð›ð² ð‡ðšð¯ðž ð²ð¨ð® ðžðšð­ðžð§ ðŸð¨ð¨ðð¬? â”€â”€â”€â”€ â€¢ðŸ’™â€¢ â”€â”€â”€â”€' }
];

module.exports.onLoad = ({ api }) => {
    console.log(chalk.bold.hex("#00c300")("============ SUCCESFULLY LOADED THE AUTOSENT COMMAND ============"));

    messages.forEach(({ time, message }) => {
        const [hour, minute, period] = time.split(/[: ]/);
        let hour24 = parseInt(hour, 10);
        if (period === 'PM' && hour !== '12') {
            hour24 += 12;
        } else if (period === 'AM' && hour === '12') {
            hour24 = 0;
        }

        const scheduledTime = moment.tz({ hour: hour24, minute: parseInt(minute, 10) }, 'Asia/Karachi').toDate();

        schedule.scheduleJob(scheduledTime, () => {
            global.data.allThreadID.forEach(threadID => {
                api.sendMessage(message, threadID, (error) => {
                    if (error) {
                        console.error(`Failed to send message to ${threadID}:`, error);
                    }
                });
            });
        });
    });
};

module.exports.run = () => {
    // This function can be left empty as the main logic is handled in onLoad
};
